# 📝 12장 함수

이번 단원에서는 **JavaScript 함수**에 대해 자세히 공부해봅시다. 함수의 정의, 사용 이유, 다양한 함수 형태 등을 예제와 함께 이해해봅시다.

---

## 📌 12.1 함수란?

함수는 일련의 과정을 `문(Statement)`으로 구현하고, `코드 블록`으로 감싸서 하나의 실행 단위로 정의한 것입니다. 함수는 코드의 재사용성을 높이고, 코드의 구조를 명확하게 만들어 줍니다.

이때 함수 내부로 입력을 전달받는 변수를 `매개변수(Parameter)`, 입력값을 `인수(Argument)`, 출력값을 `반환값(Return Value)`이라고 합니다.

```javascript
function add(x, y) {
  return x + y; // 반환값 (Return Value)
}

// 함수 호출 시 전달하는 값은 인수 (Argument)
const result = add(2, 3);
console.log(result); // 5
```

> 🧩 함수는 프로그램의 기본 단위로, 한 번 정의해두면 여러 번 재사용할 수 있습니다.

---

## 🤔 12.2 함수를 사용하는 이유

함수는 필요할 때 여러 번 호출할 수 있으므로, 코드의 재사용이라는 측면에서 매우 유용합니다. 이는 유지보수의 편의성을 높이고 실수를 줄여 코드의 신뢰성을 높이는 효과가 있습니다.

	1. 코드의 중복 제거: 동일한 작업을 반복하지 않아도 됩니다.
	2. 코드의 가독성 향상: 코드가 더 깔끔하고 이해하기 쉬워집니다.
	3. 유지보수 용이성: 함수 단위로 코드를 관리하면 수정이 쉽습니다.

---

## 📚 12.3 함수 리터럴

**JavaScript**에서 함수는 **객체**입니다. 따라서 함수도 **함수 리터럴**로 생성할 수 있습니다. 함수 리터럴은 **function 키워드**, **함수 이름**, **매개변수 목록**, **함수 몸체**로 구성합니다.

| 구성 요소           | 설명                                      |
| ------------------ | ---------------------------------------- |
| **function 키워드** | 함수 정의를 위한 예약어                  |
| **함수 이름**       | 함수 식별자(선택적)                      |
| **매개변수 목록**   | 함수 호출 시 전달받는 변수 목록          |
| **함수 몸체**       | 함수가 실행할 코드 블록 (`{ ... }`)     |

함수는 일반 객체와 다르게 호출할 수 있으며, 고유한 프로퍼티를 갖습니다.

```javascript
const multiply = function (a, b) {
  return a * b;
};
console.log(multiply(2, 3)); // 6
```

---

## 🔧 12.4 함수 정의

함수를 정의하는 방법에는 **4가지**가 있습니다.

1. **함수 선언문(Function Declaration)**
2. **함수 표현식(Function Expression)**
3. **Function 생성자 함수**
4. **화살표 함수(Arrow Function)**

| 함수 정의 방법       | 예시 코드                                  |
| ------------------- | ----------------------------------------- |
| **함수 선언문**     | `function add(x, y) { return x + y; }`    |
| **함수 표현식**     | `const add = function (x, y) { return x + y; };` |
| **Function 생성자 함수** | `const add = new Function('x', 'y', 'return x + y');` |
| **화살표 함수**     | `const add = (x, y) => x + y;`            |

> 🔗 함수 선언문과 함수 표현식은 함수의 생성 시점과 호출 방식에 차이가 있습니다.

---

### ⏰ 12.4.3 함수 생성 시점과 함수 호이스팅

함수 선언문이 코드의 선두로 끌어 올려진 것처럼 동작하는 자바스크립트 고유의 특징을 **함수 호이스팅**이라고 합니다.

```javascript
function add(a, b) {
  return a + b;
}
console.log(add(2, 3)); // 5
```

함수 표현식으로 정의한 함수는 반드시 함수 표현식 이후에 참조 또는 호출해야 합니다.

```javascript
const subtract = function (a, b) {
  return a - b;
};
console.log(subtract(5, 3)); // 2
```

> ⚠️ 함수 표현식으로 정의한 함수는 변수 호이스팅의 영향을 받아, 함수 선언 이전에 호출할 수 없습니다.

---

## 📞 12.5 함수 호출

함수는 매개변수의 개수와 인수의 개수가 일치하는지 체크하지 않습니다. 즉, 함수를 호출할 때 매개변수의 개수만큼 인수를 전달하는 것이 일반적이지만 그렇지 않은 경우에도 에러가 발생하지는 않습니다.

```javascript
function add(x, y) {
  return x + y;
}

console.log(add(10)); // NaN (두 번째 인수 미전달)
console.log(add(10, 20, 30)); // 30 (초과된 인수는 무시)
console.log(add("Hello", 5)); // "Hello5" (문자열 + 숫자)
```

> 📋 **요약:**
> 1. 자바스크립트 함수는 매개변수와 인수의 개수가 일치하는지 확인하지 않음
> 2. 자바스크립트는 **동적 타입 언어**입니다. 따라서 자바스크립트 함수는 매개변수의 타입을 사전에 지정할 수 없습니다.
> 3. 이상적인 함수는 **한 가지 일만** 해야 하며, **가급적 작게** 만들어야 합니다.

---

## 📌 12.5.6 참조에 의한 전달과 외부 상태의 변경

자바스크립트에서 값 전달 방식은 크게 두 가지로 나뉩니다.

1️⃣ 값에 의한 전달(Call by Value): 원시 타입 데이터는 값을 복사하여 전달합니다.

2️⃣ 참조에 의한 전달(Call by Reference): 객체 타입 데이터는 참조 값을 복사하여 전달합니다.

### 🔎 값에 의한 전달 예시
```javascript
let a = 10;
let b = a; // a의 값을 복사하여 b에 할당
b = 20;

console.log(a); // 10
console.log(b); // 20
```

### 🔗 참조에 의한 전달 예시
```javascript
let obj1 = { name: "Lee" };
let obj2 = obj1; // 참조 값을 복사하여 obj2에 할당

obj2.name = "Kim";

console.log(obj1.name); // "Kim"
console.log(obj2.name); // "Kim"
```

> 🔍 값에 의한 전달은 변수 간 독립적인 값을 가지지만, 참조에 의한 전달은 두 변수가 동일한 객체를 참조하므로 한쪽에서 변경하면 다른 쪽에도 영향을 미칩니다.

---

## 📦 12.7 다양한 함수의 형태

자바스크립트에는 여러 가지 **함수 형태**가 존재합니다.

### 1. 즉시 실행 함수

즉시 실행 함수는 정의되자마자 실행되는 함수를 말합니다.

```javascript
(function () {
  console.log("즉시 실행 함수입니다.");
})();
```

### 2. 재귀 함수

재귀 함수는 자기 자신을 호출하는 함수입니다. 반복문을 대체하거나 알고리즘 문제 해결 시 자주 사용됩니다.

```javascript
function factorial(n) {
  if (n <= 1) return 1;
  return n * factorial(n - 1);
}
console.log(factorial(5)); // 120
```

### 3. 중첩 함수 (Nested Function)

함수 내부에 정의된 함수를 **중첩 함수**라고 합니다.

```javascript
function outer() {
  function inner() {
    console.log("안쪽 함수 실행");
  }
  inner();
}
outer();
```

### 4. 콜백 함수와 고차 함수

**콜백 함수**는 다른 함수의 **매개변수로 전달**되어, 함수 내부에서 호출되는 함수입니다. **고차 함수**는 **콜백 함수를 매개변수로 전달**받거나 **함수를 반환**하는 함수입니다.

```javascript
// 고차 함수 map
const doubled = [1, 2, 3].map(function (item) {
  return item * 2;
});
console.log(doubled); // [2, 4, 6]
```

> 🔄 고차 함수는 함수형 프로그래밍에서 중요하게 사용되며, 비동기 처리에도 자주 활용됩니다.

---

## 🧪 12.7.5 순수 함수와 비순수 함수

함수형 프로그래밍에서는 외부 상태에 의존하지 않고 변경하지 않는 함수를 **순수 함수(Pure Function)**라고 하며, 외부 상태에 의존하거나 외부 상태를 변경하는 함수를 **비순수 함수(Impure Function)**라고 합니다.

```javascript
// 순수 함수
function pureAdd(a, b) {
  return a + b;
}

// 비순수 함수
let count = 0;
function increase() {
  return ++count;
}
```

> 🔬 순수 함수를 사용하면 코드의 예측 가능성과 테스트 용이성이 높아집니다.

자바스크립트는 **객체지향 프로그래밍**뿐만 아니라, **함수형 프로그래밍**도 적극적으로 활용하고 있습니다.

